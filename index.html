<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/src/styles/style.css" />
    <link rel="stylesheet" href="/src/styles/text.css" />
    <link rel="stylesheet" href="/src/styles/colors.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Airbnb</title>
    <script type="module" src="/src/main.ts" defer></script>
  </head>
  <body>
    <header class="header">
      <nav>
        <button
          class="airbnbButton"
          type="button"
          onclick="navigateSection('home')"
        >
          <img
            src="/public/assets/logo.svg"
            style="width: 25px"
            alt="Airbnb logo"
          />
          <p class="text-lg">Airbnb</p>
        </button>
        <button
          class="mobileMenuButton"
          type="button"
          onclick="handleMobileMenu()"
        >
          <img
            src="/public/assets/hamb-menu.svg"
            style="width: 35px"
            alt="hamburger menu icon"
          />
        </button>
        <div class="mainNav">
          <button class="headerFilterButton">Tous</button>
          <button class="headerFilterButton">Maisons</button>
          <button class="headerFilterButton">Appartements</button>
          <button class="headerFilterButton">Garages</button>
        </div>
        <div class="actionsNav">
          <button onclick="navigateSection('create')">Ajouter</button>
          <button onclick="navigateSection('connection')">Admin</button>
        </div>
      </nav>
    </header>
    <ul class="mobileNavList">
      <li>
        <a href="#" onclick="handleMenuItemClick('create')"
          >Ajouter une annonce</a
        >
      </li>
      <li>
        <a href="#" onclick="handleMenuItemClick('connection')"
          >Espace administrateur</a
        >
      </li>
      <div>
        <img
          src="/public/assets/logo.svg"
          style="width: 30px"
          alt="Airbnb logo"
        />
        <a href="#" onclick="handleMenuItemClick('home');">Airbnb</a>
      </div>
    </ul>
    <div id="app">
      <div id="homePage" class="page" style="display: none">
        <div class="home-container">
          <div class="filters-container">
            <button class="mobile-trigger">
              <img src="/public/assets/filter-icon.svg" alt="filtre icon" />
              Filtres
            </button>
            <div class="large-screen-filters">
              <button class="price-filter">Prix -</button>
              <button class="price-filter">Prix +</button>
            </div>
            <div class="filters-dialog hidden">
              <button class="mobile-filter-choice">Tous</button>
              <button class="mobile-filter-choice">Maisons</button>
              <button class="mobile-filter-choice">Appartements</button>
              <button class="mobile-filter-choice">Garages</button>
              <button class="mobile-filter-choice">Prix -</button>
              <button class="mobile-filter-choice">Prix +</button>
              <button class="mobile-filter-close-button">fermer</button>
            </div>
          </div>
          <div class="annonces"></div>
        </div>
      </div>
      <div id="createPage" class="page" style="display: none">
        <div class="create-container">
          <h1>Ajouter une annonce</h1>
          <p>Remplissez le formulaire pour ajouter une nouvelle annonce.</p>
          <p>Quel type de bien souhaitez-vous ajouter?</p>
          <select name="type" id="typeSelect" onchange="handleTypeChange()">
            <option value="maison">maison</option>
            <option value="appartement">appartement</option>
            <option value="garage">garage</option>
          </select>
          <form id="maisonForm">
            <div class="field-container">
              <label for="ville">Ville</label>
              <input
                required
                maxlength="30"
                type="text"
                name="ville"
                id="maisonVille"
              />
            </div>
            <div class="field-container">
              <label for="pays">Pays</label>
              <input
                required
                maxlength="20"
                type="text"
                name="pays"
                id="maisonPays"
              />
            </div>
            <div class="field-container">
              <label for="prestataire">Prestataire</label>
              <select required name="prestataire" id="maisonPrestataire">
                <option value="professionnel">professionnel</option>
                <option value="particulier">particulier</option>
              </select>
            </div>
            <div class="field-container">
              <label for="duree">Duree</label>
              <input
                required
                maxlength="20"
                type="text"
                name="duree"
                id="maisonDuree"
              />
            </div>
            <div class="field-container">
              <label for="prix">Prix / jour</label>
              <input
                required
                type="number"
                max="1000"
                min="100"
                name="prix"
                id="maisonPrix"
              />
            </div>
            <div class="field-container">
              <label for="etages">Etages</label>
              <input
                required
                type="number"
                min="1"
                max="5"
                name="etages"
                id="maisonEtages"
              />
            </div>
            <div class="field-container">
              <label for="photo">Photo</label>
              <input
                type="file"
                name="photo"
                id="maisonPhoto"
                accept="image/*"
              />
            </div>
            <div class="field-container">
              <label for="jardin">Jardin</label>
              <input type="checkbox" name="jardin" id="maisonJardin" />
            </div>
            <div class="field-container">
              <label for="garage">Garage</label>
              <input type="checkbox" name="garage" id="maisonGarage" />
            </div>

            <button type="submit">Ajouter</button>
          </form>
          <form id="appartementForm">
            <div class="field-container">
              <label for="ville">Ville</label>
              <input
                required
                maxlength="30"
                type="text"
                name="ville"
                id="appartementVille"
              />
            </div>
            <div class="field-container">
              <label for="pays">Pays</label>
              <input
                required
                maxlength="20"
                type="text"
                name="pays"
                id="appartementPays"
              />
            </div>
            <div class="field-container">
              <label for="prestataire">Prestataire</label>
              <select required name="prestataire" id="appartementPrestataire">
                <option value="professionnel">professionnel</option>
                <option value="particulier">particulier</option>
              </select>
            </div>
            <div class="field-container">
              <label for="duree">Duree</label>
              <input
                required
                maxlength="20"
                type="text"
                name="duree"
                id="appartementDuree"
              />
            </div>
            <div class="field-container">
              <label for="prix">Prix / jour</label>
              <input
                required
                type="number"
                max="1000"
                min="100"
                name="prix"
                id="appartementPrix"
              />
            </div>
            <div class="field-container">
              <label for="etage">Numero d'etage</label>
              <input
                required
                type="number"
                min="1"
                max="100"
                name="etage"
                id="appartementEtage"
              />
            </div>
            <div class="field-container">
              <label for="photo">Photo</label>
              <input
                type="file"
                name="photo"
                id="appartementPhoto"
                accept="image/*"
              />
            </div>
            <div class="field-container">
              <label for="balcon">Balcon</label>
              <input type="checkbox" name="balcon" id="appartementBalcon" />
            </div>
            <div class="field-container">
              <label for="ascenseur">Ascenseur</label>
              <input
                type="checkbox"
                name="ascenseur"
                id="appartementAscenseur"
              />
            </div>

            <button type="submit">Ajouter</button>
          </form>
          <form id="garageForm">
            <div class="field-container">
              <label for="ville">Ville</label>
              <input
                required
                maxlength="30"
                type="text"
                name="ville"
                id="garageVille"
              />
            </div>
            <div class="field-container">
              <label for="pays">Pays</label>
              <input
                required
                maxlength="20"
                type="text"
                name="pays"
                id="garagePays"
              />
            </div>
            <div class="field-container">
              <label for="prestataire">Prestataire</label>
              <select required name="prestataire" id="garagePrestataire">
                <option value="professionnel">professionnel</option>
                <option value="particulier">particulier</option>
              </select>
            </div>
            <div class="field-container">
              <label for="duree">Duree</label>
              <input
                required
                maxlength="20"
                type="text"
                name="duree"
                id="garageDuree"
              />
            </div>
            <div class="field-container">
              <label for="prix">Prix / jour</label>
              <input
                required
                type="number"
                max="1000"
                min="100"
                name="prix"
                id="garagePrix"
              />
            </div>
            <div class="field-container">
              <label for="places">Nombre de places</label>
              <input
                required
                type="number"
                min="1"
                max="100"
                name="places"
                id="garagePlaces"
              />
            </div>
            <div class="field-container">
              <label for="ouverture">Ouverture</label>
              <select name="ouverture" id="garageOuverture">
                <option value="clef">clef</option>
                <option value="code">code</option>
              </select>
            </div>
            <div class="field-container">
              <label for="outils">Outils disponibles</label>
              <input type="checkbox" name="outils" id="garageOutils" />
            </div>

            <div class="field-container">
              <label for="photo">Photo</label>
              <input
                type="file"
                name="photo"
                id="garagePhoto"
                accept="image/*"
              />
            </div>
            <button type="submit">Ajouter</button>
          </form>
        </div>
        <!-- Content for the create page goes here -->
      </div>
      <div id="connectionPage" class="page" style="display: none">
        <!-- Content for the connection page goes here -->
      </div>
      <div id="adminPage" class="page" style="display: none">
        <!-- Content for the admin page goes here -->
      </div>
    </div>
    <script>
      "use strict";

      const app = document.getElementById("app");
      const typeSelect = document.querySelector("#typeSelect");
      const createContainer = document.querySelector(".create-container");
      const createForms = createContainer.querySelectorAll("form");

      navigateSection("home");
      showSelectedForm(typeSelect.value);
      const mobileNavList = document.querySelector(".mobileNavList");
      // console.log(mobileNavList);
      mobileNavList.style.display = "none";

      let selectedCategory = "";

      function handleMenuItemClick(section) {
        navigateSection(section);
        handleMobileMenu();
      }

      function handleMobileMenu() {
        if (mobileNavList.style.display === "none") {
          mobileNavList.style.display = "flex";
        } else {
          mobileNavList.style.display = "none";
        }
      }

      function navigateSection(section) {
        document.querySelectorAll(".page").forEach((page) => {
          page.style.display = "none"; // Hide all pages
        });

        const pageId = section + "Page";
        const page = document.getElementById(pageId);
        if (page) {
          page.style.display = "block"; // Show the selected page
        }
      }

      function handleTypeChange() {
        showSelectedForm(typeSelect.value);
      }

      function showSelectedForm(type) {
        const selectedForm = document.querySelector(`#${type}Form`);
        createForms.forEach((form) => {
          if (form === selectedForm) {
            form.style.display = "flex";
          } else {
            form.style.display = "none";
          }
        });
      }
    </script>
  </body>
</html>
